#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/bt.h>

&lt {
    tapping-term-ms = <110>;
    flavor = "hold-preferred";

};

&mt {
    tapping-term-ms = <110>;
    flavor = "hold-preferred";
};
            
/ {
  chosen {
    zmk,matrix_transform = &default_transform;
    //zmk,matrix_transform = &five_column_transform;
  };
};

/ {
        behaviors {
            mt_bl: mod_tap_balanced {
                compatible = "zmk,behavior-hold-tap";
                label = "BALANCED_MODS";
                #binding-cells = <2>;
                tapping-term-ms = <150>;
                flavor = "balanced";
                bindings = <&kp>, <&kp>;
                retro-tap;
            };
            
            lt_tp: layer_tap_tap_preferred {
                compatible = "zmk,behavior-hold-tap";
                label = "TAP_PREFERRED_MODS";
                #binding-cells = <2>;
                tapping-term-ms = <150>;
                flavor = "tap-preferred";
                bindings = <&mo>, <&kp>;
                retro-tap;
            };
            
            td0: tap_dance_0 {
                compatible = "zmk,behavior-tap-dance";
                label = "TAP_DANCE_0";
                #binding-cells = <0>;
                tapping-term-ms = <150>;
                bindings = <&kp N1>, <&kp N2>, <&kp N3>, <&kp N4>, <&kp N5>, <&kp N6>, <&kp N7>, <&kp N8>, <&kp N9>;
            };
        };
        keymap {

        
                compatible = "zmk,keymap";

                default {
                    label = "DVORAK";
                    bindings = <
           &kp TAB  &lt 1 SQT  &lt 2 COMMA  &lt 3 DOT     &kp P            &kp Y              &kp F     &kp G    &kp C   &kp R    &kp L   &kp BSLH
         &kp LCTRL      &kp A        &kp O      &kp E     &kp U            &kp I              &kp D     &kp H    &kp T   &kp N   &lt_tp 4 S  &kp SLASH
           &kp ESC  &kp LSHFT        &kp Q      &kp J     &kp K            &kp X              &kp B     &kp M    &kp W   &kp V    &kp Z      &mo 5
                                             &kp LALT  &kp LGUI  &mt_bl RSHFT SPACE          &kp EQUAL  &kp BSPC  &kp DEL
                    >;
                };

                left {
                    label = "LEFT";
                    bindings = <
         &trans  &trans  &kp DQT  &kp GRAVE  &kp UNDER  &kp TILDE          &trans  &trans  &trans  &trans  &trans  &trans
         &trans  &trans   &trans     &trans     &trans     &trans          &trans  &trans  &trans  &trans  &trans  &trans
         &trans  &trans   &trans     &trans     &trans     &trans          &trans  &trans  &trans  &trans  &trans  &trans
                                     &trans     &trans     &trans          &trans  &trans  &trans
                    >;
                };

                number {
                    label = "NUMBERS";
                    bindings = <
         &trans  &kp DQT  &trans  &trans  &kp MINUS   &kp STAR           &kp DOLLAR  &kp N7  &kp N8    &kp N9    &kp N6  &trans
         &trans   &kp AT  &trans  &trans  &kp SLASH  &kp CARET          &kp PERCENT  &kp N2  &kp N3    &kp N4  &lt 4 N5  &trans
         &trans   &trans  &trans  &trans     &trans     &trans             &kp AMPS  &kp N1  &kp N0  &kp PLUS    &trans  &trans
                                  &trans     &trans     &trans               &trans  &trans  &trans
                    >;
                };

                navigation {
                    label = "NAV";
                    bindings = <
         &trans  &trans  &trans  &trans      &mo 6  &trans          &kp PRINTSCREEN  &kp HOME    &kp UP  &kp PG_UP    &kp END  &trans
         &trans  &trans  &trans  &trans  &kp SLASH  &trans               &kp INSERT  &kp LEFT  &kp DOWN  &kp RIGHT  &kp PG_DN  &trans
         &trans  &trans  &trans  &trans     &trans  &trans          &kp PAUSE_BREAK    &trans    &trans     &trans     &trans  &trans
                                 &trans     &trans  &trans                   &trans    &trans    &trans
                    >;
                };

                symbol {
                    label = "SYMBOLS";
                    bindings = <
         &trans  &lt 1 LT  &lt 2 LEFT_BRACKET   &kp RBKT    &kp GT      &kp CARET            &trans    &kp DOLLAR   &kp PERCENT   &trans  &trans  &trans
         &trans  &kp LBRC            &kp LPAR   &kp RPAR  &kp RBRC   &kp ASTERISK            &trans      &kp SEMI     &kp COLON  &kp DQT  &trans  &trans
         &trans  &kp EXCL              &kp AT  &kp POUND  &kp DLLR  &kp AMPERSAND            &trans  &td0  &kp NUMBER_0   &trans  &trans  &trans
                                                  &trans    &trans         &trans          &kp PLUS     &kp ENTER        &trans
                    >;
                };

                media {
                    label = "MEDIA";
                    bindings = <
             &trans        &trans        &trans        &trans        &trans        &trans          &trans      &trans        &trans        &trans  &trans  &trans
             &trans        &trans        &trans        &trans        &trans        &trans          &trans      &trans        &trans        &trans  &trans  &trans
         &bt BT_CLR  &bt BT_SEL 0  &bt BT_SEL 1  &bt BT_SEL 2  &bt BT_SEL 3  &bt BT_SEL 4          &trans  &kp K_MUTE  &kp C_VOL_UP  &kp C_VOL_DN  &trans  &trans
                                                       &trans        &trans        &trans          &trans      &trans        &trans
                    >;
                };

                mouse {
                    label = "MOUSE";
                    bindings = <
         &trans  &trans  &trans  &trans  &trans  &trans          &trans  &trans  &trans  &trans  &trans  &trans
         &trans  &trans  &trans  &trans  &trans  &trans          &trans  &trans  &trans  &trans  &trans  &trans
         &trans  &trans  &trans  &trans  &trans  &trans          &trans  &trans  &trans  &trans  &trans  &trans
                                 &trans  &trans  &trans          &trans  &trans  &trans
                    >;
                };
        };
};
